<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>meemoo/iframework @ GitHub -- iframework proof-of-concept</title>
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
  
  <script src="lib/underscore-min.js"></script>
  <script src="lib/backbone-min.js"></script>
  
  <script src="iframework.js"></script>
  
  <link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/themes/eggplant/jquery-ui.css" rel="stylesheet" type="text/css" />
  
  <link href="iframework.css" rel="stylesheet" type="text/css" />
  
  <style type="text/css">
  </style>
</head>
<body>
  
  <script type="text/template" id="graph-template">
  
    <div class="edges" />
    <div class="nodes" />
  
  </script>
  
  <script type="text/template" id="node-template">
    
    <div class="module" style="left:<%= x %>px;top:<%= y %>px;width:<%= w %>px;height:<%= h %>px;" >
      <div class="ports ports-in">
        <div class="port port-in">
          <span class="port default"> </span>
          <span class="label">default</span>
        </div>
      </div>
      <div class="ports ports-out">
        <div class="port port-out">
          <span class="label">default</span>
          <span class="port default"> </span>
        </div>
      </div>
      <h1 class="title">...</h1>
      <iframe class="frame" src="<%= src %>" style="width:<%= w - 20 %>px;height:<%= h - 40 %>px;"></iframe>
    </div>
    
  </script>
  
  <script type="text/template" id="port-in-template">
  
    <div class="port port-in">
      <span class="port <%= name %>"> </span>
      <span class="label"><%= name %></span>
      <span class="widget"></span>
    </div>
  
  </script>
  
  <script type="text/template" id="port-out-template">
  
    <div class="port port-out">
      <span class="label"><%= name %></span>
      <span class="port <%= name %>"> </span>
    </div>
    
  </script>
  
  <script type="text/template" id="edge-template">
  
    <svg>
      <path class="wire-shadow" d="<%= svgPathShadow() %>" stroke="#AAA" />
      <path class="wire" d="<%= svgPath() %>" stroke="<%= attributes.color %>" />
    <svg>
    
  </script>
  
  <script type="text/javascript">
  
  $(document).ready(function(){
    
    var testGraph = {
      info: {
        title: "iframework test",
        author: "sembiki.com",
        description: "metronome to processing and log",
        url: ""
      },
      nodes: [
        {
          id: 1,
          // src: "http://meemoo.github.com/iframework/metronome.html", 
          src: "examples/metronome.html", 
          "x":130,"y":47,"w":250,"h":150, 
          state: { bpm: 140 },
          // edges: [
          //   {portout: "default", node: 2, portin: "default"},
          //   {portout: "beat", node: 3, portin: "pressed"}
          // ]
        },
        {
          id: 2,
          // src: "http://meemoo.github.com/iframework/examples/log.html", 
          src: "examples/log.html", 
          "x":561,"y":7,"w":295,"h":230
        },
        {
          id: 3,
          // src: "http://meemoo.github.com/iframework/examples/processing.html", 
          src: "examples/processing.html", 
          "x":128,"y":246,"w":328,"h":348,
          state: { 
            processingcode: "void setup() { size(300, 300); colorMode(HSB, 360, 100, 300); noStroke(); background(0); } \n void mousePressed () { fill(random(360), 180, 300); triangle(random(width), random(height), 100, 100, 200, 200);}" 
          },
          // edges: [
          //   {portout: "image", node: 4, portin: "image"}
          // ]
        },
        {
          id: 4,
          // src: "http://meemoo.github.com/iframework/examples/glitch.html", 
          src: "examples/glitch.html", 
          "x":579,"y":255,"w":469,"h":211
        }
      ],
      edges: [
        { source: [1, "default"], target: [2, "default"] },
        { source: [1, "beat"],    target: [3, "pressed"] },
        { source: [3, "image"],   target: [4, "image"] }
      ]
    };
    
    MeemooApplication.showGraph(testGraph);
  
  });
  
  </script>
  
  <footer>
    meemoo iframework by <a href="http://forresto.com/">forrest oliphant</a> at <a href="http://sembiki.com/">sembiki interactive</a>: <a href="https://github.com/meemoo/iframework">view source</a> on github
  </footer>
  
  
  <!-- <a title="Google Analytics Alternative" href="http://getclicky.com/66482789"><img alt="Google Analytics Alternative" src="//static.getclicky.com/media/links/badge.gif" border="0" /></a> -->
  <script type="text/javascript">
  var clicky_site_ids = clicky_site_ids || [];
  clicky_site_ids.push(66482789);
  (function() {
    var s = document.createElement('script');
    s.type = 'text/javascript';
    s.async = true;
    s.src = '//static.getclicky.com/js';
    ( document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0] ).appendChild( s );
  })();
  </script>
  <noscript><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/66482789ns.gif" /></noscript>
  
</body>
</html>